@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  .otw-container {
    @apply mx-auto w-full max-w-6xl px-4 sm:px-6 lg:px-8 xl:px-10;
  }
  .otw-section {
    @apply py-12 sm:py-14 lg:py-16;
  }
  .otw-card {
    @apply rounded-2xl border border-border/70 bg-card/90 text-card-foreground shadow-otwSoft;
  }
  .otw-surface {
    @apply rounded-2xl border border-border/60 bg-muted/40 text-foreground shadow-otwSoft;
  }
  .otw-pill {
    @apply inline-flex items-center gap-2 rounded-full border border-secondary/40 bg-secondary/15 px-3 py-1 text-xs uppercase tracking-[0.18em] text-secondary;
  }
}

/* Global Styles */
html,
body {
  height: 100%;
  scroll-behavior: smooth;
}

/* 
  Design System Tokens 
  Based on OTW Brand:
  - Red: #B00017 (HSL 352 100% 35%)
  - Gold: #E6C36A (HSL 43 74% 66%)
  - Black: #0C0C0C (HSL 0 0% 5%)
  - OffWhite: #F9F5EC (HSL 43 33% 95%)
*/
@layer base {
  :root {
    /* Light Theme */
    --background: 43 33% 98%; /* Slightly brighter Off-White */
    --foreground: 0 0% 5%;    /* Keep Black */
    
    --surface-1: 43 33% 98%;
    --surface-2: 43 33% 99%;
    --surface-3: 0 0% 100%;

    --card: 0 0% 100%; /* White */
    --card-foreground: 0 0% 5%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 5%;

    --primary: 352 100% 40%; /* Standard OTW Red */
    --primary-foreground: 0 0% 98%; /* White */

    --secondary: 43 96% 38%; /* Darker "Antique Gold" */
    --secondary-foreground: 0 0% 98%; /* White */

    --muted: 43 20% 94%; /* Warm gray */
    --muted-foreground: 0 0% 30%; /* Darker gray */

    --accent: 43 74% 66%;
    --accent-foreground: 0 0% 5%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;

    --border: 43 15% 88%;
    --input: 43 15% 88%;
    --ring: 43 96% 38%; /* Match Secondary */

    --radius: 0.9rem; /* 14px default radius */
    
    /* Chart colors */
    --chart-1: 352 100% 35%;
    --chart-2: 43 74% 66%;
    --chart-3: 0 0% 40%;
    --chart-4: 352 90% 55%;
    --chart-5: 43 70% 50%;

    /* Spacing scale (4px base) */
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 20px;
    --space-6: 24px;
    --space-7: 32px;
    --space-8: 40px;
    --space-9: 48px;
    --space-10: 64px;

    /* Shadow tokens (Light mode shadows) */
    --shadow-soft: 0 12px 30px rgba(0, 0, 0, 0.08);
    --shadow-glow: 0 10px 30px rgba(230, 195, 106, 0.4), 0 6px 18px rgba(176, 0, 23, 0.15);
    --shadow-elevated: 0 18px 45px rgba(0, 0, 0, 0.12);
  }

  .dark {
    /* Dark/OTW Theme (moved from previous :root) */
    --background: 0 0% 5%; /* #0C0C0C */
    --foreground: 40 33% 96%; /* #FBF7EE */
    
    --surface-1: 0 0% 7%;
    --surface-2: 0 0% 9%;
    --surface-3: 0 0% 12%;

    --card: 0 0% 7%;
    --card-foreground: 40 33% 96%;

    --popover: 0 0% 8%;
    --popover-foreground: 40 33% 96%;

    --primary: 352 100% 35%; /* otwRed */
    --primary-foreground: 0 0% 100%;

    --secondary: 43 74% 66%; /* otwGold */
    --secondary-foreground: 0 0% 5%;

    --muted: 0 0% 14%;
    --muted-foreground: 40 10% 72%;

    --accent: 43 74% 66%;
    --accent-foreground: 0 0% 5%;

    --destructive: 0 70% 45%;
    --destructive-foreground: 0 0% 98%;

    --border: 0 0% 18%; /* Subtle border */
    --input: 0 0% 12%;
    --ring: 43 74% 66%; /* Gold focus ring */

    /* Chart colors tailored for dark theme */
    --chart-1: 352 100% 35%;
    --chart-2: 43 74% 66%;
    --chart-3: 0 0% 22%;
    --chart-4: 352 90% 55%;
    --chart-5: 43 70% 50%;

    /* Shadow tokens */
    --shadow-soft: 0 12px 30px rgba(0, 0, 0, 0.35);
    --shadow-glow: 0 10px 30px rgba(230, 195, 106, 0.3), 0 6px 18px rgba(176, 0, 23, 0.12);
    --shadow-elevated: 0 18px 45px rgba(0, 0, 0, 0.55);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground antialiased;
    font-family: var(--font-sans), system-ui, -apple-system, "SF Pro Text", "Segoe UI", sans-serif;
    /* Clean background for light mode */
    background-image: none; 
    background-attachment: fixed;
  }
  
  .dark body {
    /* Original dark mode background */
    background-image:
      radial-gradient(520px circle at 12% -10%, hsl(var(--secondary) / 0.2), transparent 60%),
      radial-gradient(620px circle at 88% 8%, hsl(var(--primary) / 0.16), transparent 55%),
      radial-gradient(420px circle at 10% 75%, hsl(var(--primary) / 0.08), transparent 60%),
      linear-gradient(180deg, hsl(var(--background)), hsl(var(--background)));
  }

  ::selection {
    background: hsl(var(--secondary) / 0.35);
    color: hsl(var(--secondary-foreground));
  }
  
  /* Typography Hierarchy */
  h1 {
    @apply font-display font-semibold tracking-tight;
    font-size: clamp(2.2rem, 4vw, 3.8rem);
    line-height: 1.05;
  }
  h2 {
    @apply font-display font-semibold tracking-tight first:mt-0;
    font-size: clamp(1.8rem, 3vw, 2.8rem);
    line-height: 1.15;
  }
  h3 {
    @apply font-display font-semibold tracking-tight;
    font-size: clamp(1.4rem, 2.4vw, 2rem);
  }
  h4 {
    @apply font-display font-semibold tracking-tight;
    font-size: clamp(1.15rem, 2vw, 1.5rem);
  }
  p {
    @apply leading-7 text-[0.98rem] text-foreground/85;
  }
  
  /* Link Styles */
  a {
    @apply transition-colors duration-300 hover:text-secondary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background;
    text-decoration-thickness: 1px;
    text-underline-offset: 4px;
  }

  button,
  [role="button"] {
    @apply transition-all duration-300;
  }

  input,
  select,
  textarea {
    @apply text-foreground placeholder:text-muted-foreground;
  }

  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    @apply outline-none ring-2 ring-ring/80 ring-offset-2 ring-offset-background;
  }

  input[aria-invalid="true"],
  select[aria-invalid="true"],
  textarea[aria-invalid="true"] {
    @apply border-destructive ring-destructive/60;
  }

  input[type="checkbox"],
  input[type="radio"] {
    accent-color: hsl(var(--secondary));
  }
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
